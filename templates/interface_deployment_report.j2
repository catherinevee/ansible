Interface Configuration Report
===============================

Device Information:
------------------
Device: {{ interface_deployment_data.device }}
Deployment Timestamp: {{ interface_deployment_data.timestamp }}

Physical Interface Configuration:
---------------------------------
{% if interface_deployment_data.physical_interfaces.changed is defined %}
Physical Interface Changes: {{ 'Yes' if interface_deployment_data.physical_interfaces.changed else 'No' }}
{% endif %}

{% if cisco_interfaces is defined %}
Configured Interfaces:
{% for interface in cisco_interfaces %}
Interface: {{ interface.name }}
  - Description: {{ interface.description }}
  - Status: {{ 'Enabled' if interface.enabled | default(true) else 'Disabled' }}
  - MTU: {{ interface.mtu | default('1500') }}
  - Speed: {{ interface.speed | default('auto') }}
  - Duplex: {{ interface.duplex | default('auto') }}
{% endfor %}
{% endif %}

Layer 2 Interface Configuration:
-------------------------------
{% if interface_deployment_data.l2_interfaces.changed is defined %}
L2 Interface Changes: {{ 'Yes' if interface_deployment_data.l2_interfaces.changed else 'No' }}
{% endif %}

{% if cisco_l2_interfaces is defined %}
L2 Interface Settings:
{% for interface in cisco_l2_interfaces %}
Interface: {{ interface.name }}
  - Mode: {{ interface.mode }}
  {% if interface.mode == 'access' %}
  - Access VLAN: {{ interface.access_vlan }}
  {% elif interface.mode == 'trunk' %}
  - Native VLAN: {{ interface.native_vlan }}
  - Allowed VLANs: {{ interface.allowed_vlans }}
  {% endif %}
{% endfor %}
{% endif %}

Layer 3 Interface Configuration:
-------------------------------
{% if cisco_l3_interfaces is defined %}
L3 Interface Settings:
{% for interface in cisco_l3_interfaces %}
Interface: {{ interface.name }}
  - IPv4 Address: {{ interface.ipv4_address }}
  {% if interface.ipv6_address is defined %}
  - IPv6 Address: {{ interface.ipv6_address }}
  {% endif %}
{% endfor %}
{% endif %}

Port-Channel Configuration:
--------------------------
{% if cisco_port_channels is defined %}
LAG Interfaces:
{% for lag in cisco_port_channels %}
Port-Channel: {{ lag.name }}
{% for member in lag.members %}
  - Member: {{ member.interface }} ({{ member.mode | default('active') }})
{% endfor %}
{% endfor %}
{% endif %}

Interface Status Verification:
-----------------------------
{% if interface_deployment_data.interface_status.stdout is defined %}
Interface Status Summary:
{{ interface_deployment_data.interface_status.stdout[1] | default('Status information not available') }}
{% endif %}

Configuration Summary:
---------------------
- Interface configurations applied successfully
- All settings are idempotent and replayable
- Validate interface status post-deployment
- Monitor interface utilization and errors

Security Features Applied:
-------------------------
- Storm control configured where specified
- Spanning tree optimizations applied
- Unused interfaces administratively shutdown
- Port security enabled on access ports (if configured)

Troubleshooting Notes:
---------------------
- Check physical connectivity for down interfaces
- Verify VLAN configuration on trunk ports
- Monitor spanning tree convergence
- Validate IP connectivity on L3 interfaces

Generated by: Ansible Network Automation Framework
Report Template Version: 1.0
